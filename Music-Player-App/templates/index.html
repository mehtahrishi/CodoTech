<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chirpify</title>

    <!-- This line adds the favicon to your browser tab -->
    <link rel="shortcut icon" href="{{ url_for('static', filename='img/favicon.ico') }}">

    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    
    <!-- This loads your song library safely into the browser -->
    <script>
        window.SONG_LIBRARY = {{ song_library | tojson }};
    </script>
</head>
<body>
    <audio id="audio-preview"></audio>
    <div class="background-glow"></div>
    <div class="main-container">
        <header>
            <h1>Chirpify</h1>
            <p>Find more music from the artists you love</p>
        </header>

<!-- In app/templates/index.html -->

<section id="player-section" class="glass-card">
    <div class="album-art-container">
        <img id="player-album-art" src="{{ url_for('static', filename='img/placeholder.png') }}" alt="Album Art">
    </div>

    <div class="player-info">
        <div class="track-details-player">
            <h2 id="player-track-name">Select a song to play</h2>
            <p id="player-artist-name">...</p>
        </div>
        <div class="progress-bar-container">
            <div id="progress-bar" class="progress-bar">
                <!-- This is the new draggable progress ball -->
                <div class="progress-ball"></div>
            </div>
        </div>
    </div>

    <div class="player-controls">
        <span id="prev-btn" class="control-btn">‚èÆÔ∏è</span>
        <span class="play-button" id="play-pause-btn">‚ñ∂Ô∏è</span>
        <span id="next-btn" class="control-btn">‚è≠Ô∏è</span>
    </div>
</section>

        <div class="content-grid">
            <section id="recommendation-section" class="glass-card">
                <h2>Your Personalized Playlist üéß</h2>
                <div class="user-selection">
                    <button id="get-recs-btn">
                        <span class="btn-text">Get Recommendations</span>
                        <div class="spinner"></div>
                    </button>
                </div>
                <ul id="recommendation-list" class="track-list">
                    <li class="placeholder">Play a song to build your taste!</li>
                </ul>
            </section>

            <section id="trending-section" class="glass-card">
                <h2 id="playlist-title">Song Library üé∂</h2>
                <ul id="trending-list" class="track-list">
                    <!-- JavaScript will populate this list -->
                </ul>
            </section>
        </div>

        <!-- Updated "How It Works" Section -->
        <section id="how-it-works" class="glass-card">
            <h2>How It Works</h2>
            <div class="how-it-works-grid">
                <div class="step">
                    <h3><span class="step-number">1</span> Explore the Library</h3>
                    <p>Click on any song from our curated Song Library. The audio will play and the app will note the artist you're interested in.</p>
                </div>
                <div class="step">
                    <h3><span class="step-number">2</span> Build Your Taste</h3>
                    <p>Listen to a song by Drake, and Drake is added to your interest list. Then listen to a song by Dua Lipa to add her to the mix!</p>
                </div>
                <div class="step">
                    <h3><span class="step-number">3</span> Get Recommendations</h3>
                    <p>Click the "Get Recommendations" button. The app looks at all artists you've explored and creates a unique playlist for you.</p>
                </div>
                 <div class="step">
                    <h3><span class="step-number">4</span> The Discovery Mix</h3>
                    <p>If you play a song by an artist with no other tracks in our library, we'll give you a special "Discovery Mix" as a surprise!</p>
                </div>
            </div>
        </section>
    </div>

    <!-- Updated Footer -->
    <footer>
        <p>Built by Hrishi Mehta with Python, ML & Music ‚ù§Ô∏è</p>
        <p class="tech-stack-footer">Powered by Flask & Pandas</p>
        <p>
        <div class="social-links">
                <a href="https://github.com/mehtahrishi"><i class="fab fa-github"></i></a>
                <a href="https://portfolio-theta-lemon-33.vercel.app/"><i class="fas fa-user-tie"></i></a>
                <a href="https://www.linkedin.com/in/hrishi-mehta-889732256/"><i class="fab fa-linkedin"></i></a>
            </div>
        </p>
    </footer>

    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>
